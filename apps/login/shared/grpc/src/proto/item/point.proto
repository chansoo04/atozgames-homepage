syntax = "proto3";

package item;

message Point {
  string account_id = 1;
  string total = 2;
  string achievements = 3;
  int32 boost = 4;
  int32 class = 5;
  int32 lucky_box = 6;
  int32 guild = 7;

  bool addable_achievements = 8;
  bool addable_boost = 9;
  bool addable_class = 10;
  bool addable_lucky_box = 11;
  bool addable_guild = 12;

  int32 weekly_lucky_box = 13;
  repeated string achievements_rewards = 14;
  repeated string boost_rewards = 15;
  repeated string class_rewards = 16;
}

enum PointType {
  PTX_NONE = 0;
  PTX_ACHIEVEMENTS = 1;
  PTX_BOOST = 2;
  PTX_CLASS = 3;
  PTX_CLASS_B = 4;
  PTX_CLASS_A = 5;
  PTX_CLASS_S = 6;
  PTX_LUCKY_BOX = 7;
  PTX_GUILD = 8;
}

service PointService {
  rpc AddPoint (PointRequest) returns (PointResponse);
  rpc GetPoint (PointRequest) returns (PointResponse);
  rpc GetPointByAccountIds (GetPointByAccountIdsRequest) returns (PointsResponse);
  rpc RewardOnPoint (RewardOnPointRequest) returns (PointResponse);
  rpc UseLuckyBoxPoint (PointRequest) returns (PointResponse);
  rpc ResetByType (ResetByTypeRequest) returns (PointResponse);
}

message PointRequest {
  string account_id = 1;
  string amount = 2;
}

message GetPointByAccountIdsRequest {
  repeated string account_ids = 1;
}

message ResetByTypeRequest {
  string account_id = 1;
  PointType type = 2;
}

message PointResponse {
  bool success = 1;
  string error_message = 2;
  Point point = 3;
}

message PointsResponse {
  bool success = 1;
  string error_message = 2;
  repeated Point point = 3;
}

message RewardOnPointRequest {
  string account_id = 1;
  RewardType reward_type = 2;
}

enum RewardType {
  PRT_NONE = 0;
  PRT_BOOST_6 = 1;
  PRT_BOOST_17 = 2;
  PRT_BOOST_39 = 3;
  PRT_BOOST_67 = 4;
  PRT_BOOST_100 = 5;
  PRT_ACHIEVEMENTS_05M = 6; // 50만 포인트 업적 보상
  PRT_ACHIEVEMENTS_5M = 7; // 500만 포인트 업적 보상
  PRT_ACHIEVEMENTS_50M = 8; // 5000만 포인트 업적 보상
  PRT_ACHIEVEMENTS_05B = 9; // 5억 포인트 업적 보상
  PRT_CLASS_B_1 = 10; // 클래스 B 업적 보상 800 : 140만
  PRT_CLASS_B_2 = 11; // 클래스 B 업적 보상 2500 : 200만
  PRT_CLASS_B_3 = 12; // 클래스 B 업적 보상 5000 : 300만
  PRT_CLASS_A_1 = 13; // 클래스 A 업적 보상 6000 : 400만
  PRT_CLASS_A_2 = 14; // 클래스 A 업적 보상 14000 : 600만
  PRT_CLASS_A_3 = 15; // 클래스 A 업적 보상 25000 : 1000만
  PRT_CLASS_S_1 = 16; // 클래스 S 업적 보상 20000 : 1000만
  PRT_CLASS_S_2 = 17; // 클래스 S 업적 보상 65000 : 1500만
  PRT_CLASS_S_3 = 18; // 클래스 S 업적 보상 100000 : 5000만
}
