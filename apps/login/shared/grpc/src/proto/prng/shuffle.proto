syntax = "proto3";

package api.shuffle;

option go_package = "gp-prng/proto/shuffle;shufflepb";

service ShuffleService {
  // ShuffleCards: if an 'id' is provided, store the shuffled result to DynamoDB.
  rpc ShuffleCards(ShuffleRequest) returns (ShuffleResponse) {}

  // GenerateLargeRandomStream: server streaming of large amounts of 32-bit random numbers.
  rpc GenerateLargeRandomStream(LargeRandomRequest) returns (stream RandomNumberChunk) {}
}

message ShuffleRequest {
  // Optional: if provided, the shuffled result is stored in DynamoDB with this id.
  string id = 1;
  // List of cards to shuffle.
  repeated string cards = 2;
}

message ShuffleResponse {
  // Returns the id that was used (or empty string if none provided).
  string id = 1;
  // Shuffled card list.
  repeated string shuffled_cards = 2;
}

message LargeRandomRequest {
  uint64 count = 1;
  uint64 chunk_size = 2;
}

message RandomNumberChunk {
  repeated uint32 numbers = 1;
}
